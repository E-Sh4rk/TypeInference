% Header
\documentclass[a4paper]{article}%      autres choix : book, report
\usepackage[utf8]{inputenc}%           gestion des accents (source)
\usepackage[T1]{fontenc}%              gestion des accents (PDF)
\usepackage[francais]{babel}%          gestion du francais
\usepackage{textcomp}%                 caracteres additionnels
\usepackage{mathtools,amssymb,amsthm}% packages de l'AMS + mathtools
\usepackage{lmodern}%                  police de caractere
\usepackage[top=2cm,left=2cm,right=2cm,bottom=2cm]{geometry}%     gestion des marges
\usepackage{graphicx}%                 gestion des images
\usepackage{array}%                    gestion amelioree des tableaux
\usepackage{calc}%                     syntaxe naturelle pour les calculs
\usepackage{titlesec}%                 pour les sections
\usepackage{titletoc}%                 pour la table des matieres
\usepackage{fancyhdr}%                 pour les en-tetes
\usepackage{titling}%                  pour le titre
\usepackage{enumitem}%                 pour les listes numerotees
\usepackage{hyperref}%                 gestion des hyperliens
\usepackage{syntax}
\usepackage{minted}
\usepackage[parfill]{parskip}
\usepackage{amsmath}
\usepackage{fourier}
\usepackage{heuristica}
\usepackage[overload]{empheq}
\usepackage{cleveref}
\usepackage{alltt}
\usepackage{bm}
\usepackage{nicefrac}
\usepackage{stmaryrd}
\usepackage{mathpartir}
\usepackage{color}
\usemintedstyle{vs}

\hypersetup{pdfstartview=XYZ}%         zoom par defaut

\setlength{\droptitle}{-5em}   % This is your set screw
\title{\vspace{1.5cm}Type inference - M2 Internship}
\author{Mickael LAURENT}
\date{\vspace{-5ex}}

\pagenumbering{gobble}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

\DeclareFontFamily{U}{mathb}{}
\DeclareFontShape{U}{mathb}{m}{n}{
  <-5.5> mathb5
  <5.5-6.5> mathb6
  <6.5-7.5> mathb7
  <7.5-8.5> mathb8
  <8.5-9.5> mathb9
  <9.5-11.5> mathb10
  <11.5-> mathb12
}{}
\DeclareSymbolFont{mathb}{U}{mathb}{m}{n}
\DeclareMathSymbol{\sqdot}{\mathbin}{mathb}{"0D}
\newcommand{\worra}[2]{#1\mathop{\,\sqdot\,} #2}
\newcommand{\apply}[2]{#1\circ#2}
\newcommand{\dom}[1]{\textsf{dom}(#1)}
\newcommand{\alt}{~|~}
\newcommand{\Empty} {\textsf{Empty}}%\MyMathBb{0}}
\newcommand{\Any} {\textsf{Any}}%\MyMathBb{1}}
\newcommand{\Int} {\textsf{Int}}
\newcommand{\Bool} {\textsf{Bool}}
\newcommand{\True} {\textsf{True}}
\newcommand{\False} {\textsf{False}}
\newcommand{\true} {\textsf{true}}
\newcommand{\false} {\textsf{false}}
\newcommand{\Even} {\textsf{Even}}
\newcommand{\Odd} {\textsf{Odd}}
\newcommand{\ite}[4]{\ensuremath{\texttt{if}\;#1\in#2\;\texttt{then}\;#3\;\texttt{else}\;#4}}
\newcommand{\basic}[1]{\text{\fontshape{\itdefault}\fontseries{\bfdefault}\selectfont b}_{#1}}
\newcommand{\subst}[2]{\{#1 \mapsto #2\}}
\newcommand{\tyof}[2]{\textsf{typeof}_{#2}(#1)}
\newcommand{\typep}[3]{\textsf{Constr}^{#1}_{#3}(#2)}
\newcommand{\Gp}[2]{\textsf{Env}^{#1}_{#2}}

\theoremstyle{definition}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{definition}{Definition}
\newtheorem{corollary}{Corollary}

\newcommand {\Infer} [4] [] {
  \inferrule*[%
    left={\ifx\\#1\\#1\else\ifx\\#2\\[\textsc{#1}]\:\else[\textsc{#1}]\fi\fi},%
    right={$ #4 $}%
  ]%
  {#2}{#3}}

\newcommand {\Rule}[1] {[\textsc{#1}]}

\begin{document}

	\maketitle

    \section{Semantics}

    \subsection{Semantics}

    \[
    \begin{array}{lrcl}
    \textbf{Expressions} & e & ::= & c\alt x \alt \lambda^tx.e \alt \ite e t e e \alt e e\\
    \textbf{Values} & v & ::= & c \alt \lambda^tx.e
    \end{array}
    \]

    \[
    \begin{array}{lrcl}
    \textbf{Context} & C[] & ::= & e [] \alt [] v \alt \ite {[]} t e e
    \end{array}
    \]

    \begin{mathpar}
        \Infer[Ctx]
        {e \leadsto e'}
        {C[e] \leadsto C[e']}
        {}\\
        \Infer[App]
        {}
        {(\lambda^tx.e) v \leadsto e\subst x v}
        {}\\
        \Infer[Ite]
        {i \in \{1,2\}\hspace{1cm} (i=1 \Leftrightarrow v \in t)}
        {\ite v t {e_1} {e_2} \leadsto e_i}
        {}\\
    \end{mathpar}

    \begin{align*}
      n &\in \{n\}\\
      \true &\in \True\\
      \false &\in \False\\
      \lambda^tx.e &\in t\\
      v \in t \text{ and } t \leq t' \Rightarrow v &\in t'
    \end{align*}

    \subsection{Recall: Type System}

    \begin{mathpar}

      \Infer[Empty]
        { }
        {\Gamma\vdash e:\Empty}
        {\exists e' \in \dom\Gamma.\ \Gamma(e') \leq \Empty}
      \\
      \Infer[Occ]
          {
          }
          { \Gamma \vdash e: \Gamma(e) }
          { e\in\dom\Gamma}
      \qquad
      \Infer[Const]
          { }
          {\Gamma\vdash c:\basic{c}}
          {c\not\in\dom\Gamma}
       \\
      \Infer[Abs]
          {\Gamma,x:s_i\vdash e:t_i'\\t_i'\leq t_i}
          {
          \Gamma\vdash\lambda^{\wedge_{i\in I}s_i\to t_i}x.e:\textstyle\bigwedge_{i\in I}s_i\to t_i
          }
          {\lambda^{\wedge_{i\in I}s_i\to t_i}x.e\not\in\dom\Gamma}
          \\
      \Infer[App]
          {
            \Gamma \vdash e_1: t_1 \\
            \Gamma\vdash e_2: t_2\\
            t_1 \leq \Empty \to \Any\\
            t_2 \leq \dom {t_1}
          }
          { \Gamma \vdash {e_1}{e_2}: t_1 \circ t_2 }
          { {e_1}{e_2}\not\in\dom\Gamma}
          \\
      \Infer[If]
            {\Gamma\vdash e:t_\circ\\
              \Gamma, \Gamma^+_{\Gamma,e,t}\vdash e_1 : t_1\\
              \Gamma, \Gamma^-_{\Gamma,e,t}\vdash e_2 : t_2}
            {\Gamma\vdash \ite {e} t {e_1}{e_2}: t_1\vee t_2}
            {\makebox[3cm][l]{$\ite {e} t {e_1}{e_2}\not\in\dom\Gamma$}}
      \\\end{mathpar}
      
\end{document}